<!DOCTYPE html>
<html>
    <head>
        <meta charset=utf-8 />
        <title>Ember Leaflet</title>
        <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.1/css/bootstrap-combined.no-icons.min.css" rel="stylesheet">
        <link href="//netdna.bootstrapcdn.com/font-awesome/3.1.1/css/font-awesome.min.css" rel="stylesheet">
        <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.5.1/leaflet.css" />
        <!--[if lte IE 8]>
            <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.5.1/leaflet.ie.css" />
        <![endif]-->
        <link rel="stylesheet" href="css/leaflet.awesome-markers.css">
        <link rel="stylesheet" href="css/style.css">
    </head>
    <body>
        <div class="container">

            <div class="masthead">
                <div class="navbar">
                    <div class="navbar-inner">
                        <div class="container">
                            <ul class="nav">
                                <li>
                                    <a href="https://github.com/miguelcobain/ember-leaflet">Github</a>
                                </li>
                                <li>
                                    <a href="#demo">Demo</a>
                                </li>
                                <li>
                                    <a href="#features">Features</a>
                                </li>
                                <li>
                                    <a href="#">Downloads</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div><!-- /.navbar -->
            </div>

            <!-- Jumbotron -->
            <div class="jumbotron">
                <h1>EmberLeaflet</h1>
                <p class="lead">
                    <a href="http://emberjs.com/">Ember</a> and <a href="http://leafletjs.com/">Leaflet</a> tight integration for rich map web application development.
                </p>
                <a class="btn btn-large btn-success" href="https://raw.github.com/miguelcobain/ember-leaflet/master/src/ember-leaflet.js"><i class="icon-download"></i> Download</a>
                <a class="btn btn-large" href="https://github.com/miguelcobain/ember-leaflet"><i class="icon-github-alt"></i> View on Github</a>
            </div>

            <hr>
            <h2 id="demo">Demo</h3>
            <div id="application"></div>
            <hr>
            <h2 id="features">Features and Goals</h3>
            <!-- Example row of columns -->
            <div class="row-fluid">
                <div class="span4">
                    <h2>Bindings</h2>
                    <p>
                        Essencially <strong>EmberLeaflet</strong> is a wrapper on top of Leaflet that
                        exposes Ember properties. 
                    </p>
                    <p>
                        This way, the leaflet map is updated
                        when an Ember property changes and Ember properties are updated
                        when the user interacts with the map.
                    </p>
                </div>
                <div class="span4">
                    <h2>Learn</h2>
                    <p>
                        This project is in its enfancy. You can learn by inspecting the code of the demo
                        above and/or of the library itself.
                    </p>
                </div>
                <div class="span4">
                    <h2>Help!</h2>
                    <p>
                        If you are an Ember/Leaflet/Javascript master, please help! It would be great to
                        improve features, implement geometry binding, add documentation, tests, etc. Please help
                        anything you can. Pull requests are very welcome on github.
                    </p>
                </div>
            </div>

            <hr>

            <div class="footer">
                <p>
                    &copy; Miguel Andrade and EmberLeaflet contributors 2013
                </p>
            </div>

        </div>
        <!-- /container -->

        <script type="text/x-handlebars" data-template-name="index">
            <h3>Leaflet map <small>Zoom, Pan the map or drag the markers!</small></h3>
            {{log view}}
            {{log controller}}
            {{view App.MapView id="map" zoomBinding="zoom" centerBinding="center" childLayersBinding="layers"}}
            <h3>Ember controls <small>Change the values and check the map above!</small></h3>
            <div class="row-fluid">
                <div class="span5">
                    <div class="form-horizontal">
                        <div class="control-group">
                            <label class="control-label" for="inputZoom">Zoom</label>
                            <div class="controls">
                                <div class="input-append">
                                    {{view Ember.TextField valueBinding="zoom" type="number" id="inputZoom" classNames="input-small"}}
                                    <button class="btn" type="button"{{action zoomOut}}><i class="icon-zoom-out"></i></button>
                                    <button class="btn" type="button"{{action zoomIn}}><i class="icon-zoom-in"></i></button>
                                </div>
                            </div>
                        </div>
                        <div class="control-group">
                            <label class="control-label" for="inputLng">Center</label>
                            <div class="controls">
                                <div id="coord" class="input-prepend input-append">
                                    <span class="add-on" style="border-radius: 4px 0 0 0" >N</span>
                                    {{view Ember.TextField valueBinding="latitude" id="coordN" classNames="input-medium"}}
                                    <span class="add-on" style="border-radius: 0 4px 0 0" >&#xb0;</span>
                                </div>
                            </div>
                            <div class="controls">
                                <div id="coord" class="input-prepend input-append">
                                    <span class="add-on" style="border-radius: 0 0 0 4px;border-top:none;">W</span>
                                    {{view Ember.TextField valueBinding="longitude" id="coordW" classNames="input-medium"}}
                                    <span class="add-on" style="border-radius: 0 0 4px 0;border-top:none;" >&#xb0;</span>
                                </div>
                            </div>
                        </div>
                        
                    </div>
                </div>
                <div class="span7">
                    <div class="form">
                        <div class="control-group">
                            <label class="control-label" for="inputS">Markers</label>
                            {{#each m in markers.content}}
                                <div class="controls">
                                    <div class="input-append">
                                      {{view Ember.TextField valueBinding="s.name" classNames="input-mini" data-toggle="tooltip" title="Popup binding"}}
                                      {{view Ember.TextField valueBinding="s.location.lat" classNames="input-mini middleinput" data-toggle="tooltip" title="Latitude binding"}}
                                      {{view Ember.TextField valueBinding="s.location.lng" classNames="input-mini middleinput" data-toggle="tooltip" title="Longitude binding"}}
                                      <div class="btn-group">
                                        <button class="btn dropdown-toggle middle" data-toggle="dropdown">
                                            Icon
                                            <span class="caret"></span>
                                        </button>
                                       
                                        <ul class="dropdown-menu">
                                            {{#each i in icons}}
                                                <li><a href="#" {{action changeIcon m i.icon}}>{{i.label}}</a></li>
                                            {{/each}}
                                        </ul>
                                        
                                    </div>
                                      <a href="#" {{bindAttr class="m.draggable::active :btn"}} type="button" {{action lock m}}
                                        data-toggle="tooltip" title="Toggle dragging and highlight">
                                          <i {{bindAttr class="m.draggable:icon-lock:icon-unlock"}} ></i>
                                      </a>
                                      <a href="#" class="btn ttip" {{action centerMarker m}}
                                        data-toggle="tooltip" title="Center map on this marker">
                                          <i  class="icon-screenshot"></i>
                                      </a>
                                      <button class="btn btn-danger" type="button"{{action remove m}}
                                        data-toggle="tooltip" title="Delete marker"><i  class="icon-remove icon-white"></i></button>
                                    </div>
                                </div>
                            {{else}}
                                <div class="controls">
                                    <div class="alert alert-info">
                                        <button type="button" class="close" data-dismiss="alert">&times;</button>
                                        No markers. Add one!
                                    </div
                                </div>
                            {{/each}}
                            <div class="controls">
                                <button class="btn btn-success" type="button"{{action add}}><i class="icon-plus icon-white"></i> Add</button>
                                <small class="muted">The new marker will appear at the current center of the map.</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <h3>Paths <small>Change the values and check the map above!</small></h3>
        <div class="row-fluid">
            <div class="span12">
                <div class="form">
                    <div class="control-group">
                            {{#each p in paths}}
                                <div class="controls">
                                    <div class="input-append">
                                      {{view Ember.TextField valueBinding="p.label" classNames="input-mini" data-toggle="tooltip" title="Popup binding"}}
                                      {{view Ember.TextField valueBinding="p.weight" classNames="input-mini middleinput" data-toggle="tooltip" title="Stroke width in pixels"}}
                                      {{view Ember.TextField valueBinding="p.opacity" classNames="input-mini middleinput" data-toggle="tooltip" title="Opacity binding"}}
                                      <div class="btn-group">
                                        <button class="btn dropdown-toggle middle" data-toggle="dropdown">
                                            Color
                                            <span class="caret"></span>
                                        </button>
                                       
                                        <ul class="dropdown-menu">
                                            <li><a href="#" {{action changeColor p 'red'}}>Red</a></li>
                                            <li><a href="#" {{action changeColor p 'blue'}}>Blue</a></li>
                                            <li><a href="#" {{action changeColor p 'yellow'}}>Yellow</a></li>
                                            <li><a href="#" {{action changeColor p 'green'}}>Green</a></li>
                                        </ul>
                                        
                                    </div>
                                    {{#if p.isPolyline}}
                                      {{#each l in p.locations}}
                                        {{view Ember.TextField valueBinding="l.lat" classNames="input-mini middleinput" data-toggle="tooltip" title="Polyline vertex latitude"}}
                                        {{view Ember.TextField valueBinding="l.lng" classNames="input-mini middleinput" data-toggle="tooltip" title="Polyline vertex longitude"}}
                                      {{/each}}
                                    {{/if}}
                                    {{#if p.isCircle}}
                                        {{view Ember.TextField valueBinding="p.radius" classNames="input-mini middleinput" data-toggle="tooltip" title="Circle Radius binding in meters"}}
                                        <div class="btn-group">
                                        <button class="btn dropdown-toggle middle" data-toggle="dropdown">
                                            Fill Color
                                            <span class="caret"></span>
                                        </button>
                                       
                                        <ul class="dropdown-menu">
                                            <li><a href="#" {{action changeFillColor p 'red'}}>Red</a></li>
                                            <li><a href="#" {{action changeFillColor p 'blue'}}>Blue</a></li>
                                            <li><a href="#" {{action changeFillColor p 'yellow'}}>Yellow</a></li>
                                            <li><a href="#" {{action changeFillColor p 'green'}}>Green</a></li>
                                        </ul>
                                        
                                    </div>
                                    {{/if}}
                                      <a href="#" class="btn ttip" {{action centerPath p}}
                                        data-toggle="tooltip" title="Center map on this path">
                                          <i  class="icon-screenshot"></i>
                                      </a>
                                      <button class="btn btn-danger" type="button"{{action removePath p}}
                                        data-toggle="tooltip" title="Delete polyline"><i  class="icon-remove icon-white"></i></button>
                                    </div>
                                </div>
                            {{else}}
                                <div class="controls">
                                    <div class="alert alert-info">
                                        <button type="button" class="close" data-dismiss="alert">&times;</button>
                                        No polylines.
                                    </div
                                </div>
                            {{/each}}
                            <div class="controls">
                                <div class="btn-group">
                                        <button class="btn btn-success dropdown-toggle" data-toggle="dropdown">
                                            <i class="icon-plus icon-white"></i> Add
                                            <span class="caret"></span>
                                        </button>
                                       
                                        <ul class="dropdown-menu">
                                            <li><a href="#" {{action addPipe}}>Polyline</a></li>
                                            <li><a href="#" {{action addValve}}>Circle</a></li>
                                        </ul>
                                        
                                    </div>
                                <small class="muted">The new path will appear at the current center of the map.</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        </script>

        <script src="js/libs/jquery.js"></script>
        <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.1/js/bootstrap.min.js"></script>
        <script src="js/libs/handlebars.js"></script>
        <script src="js/libs/ember.js"></script>
        <script src="http://cdn.leafletjs.com/leaflet-0.5.1/leaflet.js"></script>
        <script src="js/libs/leaflet.awesome-markers.min.js"></script>
        <script src="js/libs/ember-leaflet.js"></script>
        <script src="js/app.js"></script>
    </body>
</html>
